<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Available Waiting Time Settings</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<h1>Available Waiting Time Settings</h1>

<!-- Form for displaying and updating available waiting times -->
<form th:action="@{/store/setting/available-waiting-time}" method="post">
    <div>
        <label for="waitingOpenTime">Waiting Open Time:</label>
        <input type="time" id="waitingOpenTime" name="waitingOpenTime"
               th:value="${availableWaitingTime.waitingOpenTime}"/>
    </div>

    <div>
        <label for="waitingCloseTime">Waiting Close Time:</label>
        <input type="time" id="waitingCloseTime" name="waitingCloseTime"
               th:value="${availableWaitingTime.waitingCloseTime}"/>
    </div>

    <button type="submit">Update</button>
</form>

<script>
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('change', function () {
            let time = this.value.split(':');
            let minutes = Math.round(time[1] / 10) * 10; // 10분 단위로 반올림
            if (minutes == 60) {
                minutes = 0;
                time[0] = ('0' + (parseInt(time[0]) + 1)).slice(-2);
            }
            this.value = time[0] + ':' + ('0' + minutes).slice(-2);
        });
    });
</script>

</body>
</html>